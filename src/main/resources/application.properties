spring.application.name=tesis_bachiller_backend_multimodular

# --- GitHub OAuth2 Client Configuration ---
# ¡IMPORTANTE! Estos valores NO deben ser versionados.
# Se resuelven desde variables de entorno para mantener los secretos fuera del código fuente.
# Al ejecutar, define las siguientes variables de entorno:
# export SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GITHUB_CLIENT_ID='tu_client_id'
# export SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GITHUB_CLIENT_SECRET='tu_client_secret'
spring.security.oauth2.client.registration.github.client-id=${SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GITHUB_CLIENT_ID}
spring.security.oauth2.client.registration.github.client-secret=${SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GITHUB_CLIENT_SECRET}
spring.security.oauth2.client.registration.github.scope=read:user,user:email


# --- Database Configuration (H2 in-memory) ---
# Forzamos el nombre de la base de datos a 'testdb' para que coincida con el default de la consola H2.
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.username=sa
spring.datasource.password=

# --- JPA / Hibernate Configuration ---
spring.jpa.hibernate.ddl-auto=update

# --- H2 Database Console Configuration ---
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# --- Application Specific Configuration ---
dora.initial-admin-username=grubhart

# --- Frontend Configuration ---
app.frontend.url=http://localhost:5173

# Poner el nivel de log en DEBUG para nuestro paquete específico
logging.level.org.grubhart.pucp.tesis=DEBUG

# --- Hibernate/JPA Detailed Logging ---
# Muestra las sentencias SQL que Hibernate genera.
logging.level.org.hibernate.SQL=DEBUG
# Muestra los parámetros que se enlazan a las sentencias SQL (¡muy útil!).
# Usamos TRACE para el máximo detalle.
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
# Muestra información sobre las transacciones (begin, commit, rollback).
logging.level.org.springframework.transaction=DEBUG
# Formatea el SQL para que sea más legible en los logs.
spring.jpa.properties.hibernate.format_sql=true
# --- Database Initialization ---
# Asegura que los scripts de datos (data.sql) se ejecuten DESPUÉS de que Hibernate (JPA) haya creado las tablas.
spring.jpa.defer-datasource-initialization=true